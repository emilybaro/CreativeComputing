<!DOCTYPE html>
<html>
<head>
</head>
<body>
<script>
var story = "I was following the, I was following the, I was following the, I was following the I was following the, I was following the, I was following the, I was following the I was following the pack, all swallowed in their coats With scarves of red tied 'round their throats To keep their little heads from falling in the snow, and I turned 'round and there you go And Michael, you would fall and turn the white snow red as strawberries in the summertime I was following the pack, all swallowed in their coats With scarves of red tied 'round their throats To keep their little heads from falling in the snow, and I turned 'round and there you go And Michael, you would fall and turn the white snow red as strawberries in the summertime I was following the pack, all swallowed in their coats With scarves of red tied 'round their throats To keep their little heads from falling in the snow, and I turned 'round and there you go And Michael, you would fall and turn the white snow red as strawberries in summertime";

// https://genius.com/Fleet-foxes-white-winter-hymnal-lyrics

var words = story.split(/\s+/);

var dictonary = {};

for(var i = 0; i < words.length-1; i = i + 1){
	var word = words [i];
	var nextword = words [i+1];
	if(dictonary[word] == undefined){
		dictonary[word] = [];		
	}
	dictonary[word].push(nextword);
}

var startword = words[ Math.floor( Math.random() * words.length) ];

var phrase = [startword];


for(var i = 0; i < 35; i++){
	var word = phrase[i];
	var nextwords = dictonary[word];
	var nextword = nextwords[ Math.floor(Math.random()*nextwords.length) ];
	phrase.push(nextword);
}

console.log(phrase);

for(var i = 0; i < phrase.length; i++){
	document.body.innerHTML += phrase[i] + " ";
}
</script>
</body>
</html>